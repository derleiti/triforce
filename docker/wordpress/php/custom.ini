; ===================================================
; AILinux // PHP Performance + Compatibility Tuning
; ===================================================

[PHP]
; Ressourcenzuweisung
memory_limit = 512M
max_execution_time = 300
max_input_time = 300
max_input_vars = 20000

; Uploads
upload_max_filesize = 512M
post_max_size = 512M
file_uploads = On

; Zeitzone
date.timezone = Europe/Berlin

; Fehler-Handling
display_errors = Off
log_errors = On
error_reporting = E_ALL & ~E_DEPRECATED & ~E_STRICT
error_log = /dev/stderr

; Sicherheit
expose_php = Off
allow_url_fopen = On
allow_url_include = Off
session.cookie_httponly = 1
session.use_strict_mode = 1
session.cookie_secure = 1
; Lax is safer for WordPress flows than Strict
session.cookie_samesite = "Lax"

; Standard-Encoding
default_charset = UTF-8
internal_encoding = UTF-8

; Remote-Verbindungen (Timeouts, API etc.)
default_socket_timeout = 120
user_agent = "AILinuxWordPressBot/1.0"

; ========================
; OPCache - für schnellen Code
; ========================
[opcache]
opcache.enable = 1
opcache.enable_cli = 1
opcache.memory_consumption = 256
opcache.interned_strings_buffer = 16
opcache.max_accelerated_files = 20000
opcache.revalidate_freq = 60
opcache.validate_timestamps = 1
opcache.fast_shutdown = 1
opcache.jit = 1255
opcache.jit_buffer_size = 64M
opcache.save_comments = 1

; ========================
; cURL & SSL Settings für APIs
; ========================
[curl]
curl.cainfo = /etc/ssl/certs/ca-certificates.crt

[openssl]
openssl.cafile = /etc/ssl/certs/ca-certificates.crt
openssl.capath = /etc/ssl/certs

; ========================
; Benutzerdefinierte Konfiguration (API-Integration etc.)
; ========================
[Ollama]
ollama.api_host = host.docker.internal
ollama.api_port = 11434
ollama.timeout = 120
