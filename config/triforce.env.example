# ============================================================================
# TRIFORCE AI BACKEND - ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to triforce.env and fill in your values
# NEVER commit triforce.env to git!
# ============================================================================

# ----------------------------------------------------------------------------
# SYSTEM SETTINGS
# ----------------------------------------------------------------------------
DOMAIN=your-domain.com
SSL_DOMAIN=your-domain.com
INSTALL_DIR=/opt/triforce
DATA_DIR=/opt/triforce/data
BACKUP_DIR=/opt/triforce/backups
BACKUP_RETENTION_DAYS=30
TZ=Europe/Berlin
LOG_LEVEL=INFO
LOG_MAX_ENTRIES=10000
LOG_RETENTION_DAYS=30
LOG_INCLUDE_PROMPTS=false
LOG_INCLUDE_RESPONSES=false

# ----------------------------------------------------------------------------
# API KEYS - AI PROVIDERS (fill in your own keys)
# ----------------------------------------------------------------------------
# Anthropic Claude
ANTHROPIC_API_KEY=sk-ant-your-key-here
ANTHROPIC_MAX_TOKENS=4096
ANTHROPIC_TIMEOUT_MS=60000
ANTHROPIC_ORGANIATION_ID=

# Google Gemini
GEMINI_API_KEY=your-gemini-key
GOOGLE_AI_STUDIO_KEY=your-key
GOOGLE_GEMINI_KEY=your-key

# OpenAI
OPENAI_API_KEY=sk-your-openai-key

# Mistral
MISTRAL_API_KEY=your-mistral-key
MIXTRAL_API_KEY=your-mixtral-key
CODESTRAL_API_KEY=your-codestral-key

# Groq
GROQ_API_KEY=gsk_your-groq-key
GROQ_BASE_URL=https://api.groq.com/openai/v1
GROQ_DEFAULT_MODEL=llama-3.3-70b-versatile
GROQ_TIMEOUT_MS=30000

# Cerebras
CEREBRAS_API_KEY=your-cerebras-key
CEREBRAS_BASE_URL=https://api.cerebras.ai/v1
CEREBRAS_DEFAULT_MODEL=llama-3.3-70b
CEREBRAS_TIMEOUT_MS=30000

# Together AI
TOGETHER_API_KEY=your-together-key
TOGETHER_BASE_URL=https://api.together.xyz/v1
TOGETHER_DEFAULT_MODEL=meta-llama/Llama-3.3-70B-Instruct-Turbo
TOGETHER_TIMEOUT_MS=60000

# Fireworks AI
FIREWORKS_API_KEY=your-fireworks-key
FIREWORKS_BASE_URL=https://api.fireworks.ai/inference/v1
FIREWORKS_DEFAULT_MODEL=accounts/fireworks/models/llama-v3p3-70b-instruct
FIREWORKS_TIMEOUT_MS=60000

# OpenRouter
OPENROUTER_API_KEY=your-openrouter-key
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
OPENROUTER_DEFAULT_MODEL=meta-llama/llama-3.3-70b-instruct
OPENROUTER_TIMEOUT_MS=60000

# Cohere
COHERE_API_KEY=your-cohere-key
COHERE_DEFAULT_MODEL=command-r-plus
COHERE_EMBED_MODEL=embed-multilingual-v3.0
COHERE_TIMEOUT_MS=30000

# HuggingFace
HUGGINGFACE_API_KEY=hf_your-key
HUGGINGFACE_INFERENCE_URL=https://api-inference.huggingface.co
HUGGINGFACE_TIMEOUT=30000

# Cloudflare Workers AI
CLOUDFLARE_ACCOUNT_ID=your-account-id
CLOUDFLARE_API_TOKEN=your-cf-token
CLOUDFLARE_DEFAULT_MODEL=@cf/meta/llama-3.1-70b-instruct

# Jina AI (Embeddings)
JINA_API_KEY=your-jina-key
JINA_EMBED_MODEL=jina-embeddings-v3

# Stable Diffusion
STABLE_DIFFUSION_URL=http://localhost:7860
STABLE_DIFFUSION_USERNAME=
STABLE_DIFFUSION_PASSWORD=
STABLE_DIFFUSION_BACKEND=auto
STABLE_DIFFUSION_DEFAULT_MODELS=
STABLE_DIFFUSION_MAX_WAIT=300
STABLE_DIFFUSION_POLL_INTERVAL=2

# ----------------------------------------------------------------------------
# OLLAMA (Local LLMs)
# ----------------------------------------------------------------------------
OLLAMA_HOST=http://localhost:11434
OLLAMA_BASE=http://localhost:11434/api
OLLAMA_DEFAULT_MODEL=qwen2.5:14b
OLLAMA_TIMEOUT_MS=120000
OLLAMA_BEARER_AUTH_ENABLED=false
OLLAMA_BEARER_TOKEN=

# ----------------------------------------------------------------------------
# DEFAULT MODELS
# ----------------------------------------------------------------------------
DEFAULT_CHAT_MODEL=gemini/gemini-2.0-flash-exp
DEFAULT_CODE_MODEL=claude/claude-sonnet-4-20250514
DEFAULT_VISION_MODEL=gemini/gemini-2.0-flash-exp
DEFAULT_EMBEDDING_MODEL=cohere/embed-multilingual-v3.0
DEFAULT_SUMMARY_MODEL=groq/llama-3.3-70b-versatile

# Temperature defaults (0.0 - 2.0)
DEFAULT_TEMPERATURE_OLLAMA=0.7
DEFAULT_TEMPERATURE_GEMINI=0.7
DEFAULT_TEMPERATURE_ANTHROPIC=0.7
DEFAULT_TEMPERATURE_GROQ=0.7
DEFAULT_TEMPERATURE_MISTRAL=0.7
DEFAULT_TEMPERATURE_CEREBRAS=0.7
DEFAULT_TEMPERATURE_TOGETHER=0.7
DEFAULT_TEMPERATURE_FIREWORKS=0.7
DEFAULT_TEMPERATURE_OPENROUTER=0.7
DEFAULT_TEMPERATURE_COHERE=0.7
DEFAULT_TEMPERATURE_HUGGINGFACE=0.7
DEFAULT_TEMPERATURE_CLOUDFLARE=0.7

# ----------------------------------------------------------------------------
# GITHUB (for releases/updates)
# ----------------------------------------------------------------------------
GITHUB_USERNAME=your-github-username
GITHUB_TOKEN=ghp_your-personal-access-token
GITHUB_REPO=your-repo-name

# ----------------------------------------------------------------------------
# SECURITY & AUTH
# ----------------------------------------------------------------------------
JWT_SECRET=generate-a-random-64-char-string-here
USER_MASTER_KEY=your-master-key-for-encryption
MCP_API_KEY=your-mcp-api-key
MCP_OAUTH_USER=admin
MCP_OAUTH_PASS=change-this-password
WEBHOOK_SECRET=your-webhook-secret
MCP_CONFIG_DIR=/opt/triforce/config/mcp

# ----------------------------------------------------------------------------
# GUI & TRISTAR
# ----------------------------------------------------------------------------
TRISTAR_GUI_USER=admin
TRISTAR_GUI_PASSWORD=change-this-password
GUI_THEME=dark
GUI_LANGUAGE=de
GUI_AUTO_REFRESH_SECONDS=30
GUI_SHOW_DEBUG=false

# ----------------------------------------------------------------------------
# RATE LIMITING
# ----------------------------------------------------------------------------
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_TOKENS_PER_MINUTE=100000
RATE_LIMIT_PER_IP=100
RATE_LIMIT_PER_USER=1000
MAX_CONCURRENT_REQUESTS=10
REQUEST_TIMEOUT=120
REQUEST_QUEUE_TIMEOUT=60

# ----------------------------------------------------------------------------
# CACHING
# ----------------------------------------------------------------------------
CACHE_ENABLED=true
CACHE_BACKEND=memory
CACHE_MAX_ENTRIES=1000
CACHE_TTL_SECONDS=3600
CACHE_EMBEDDINGS=true
CACHE_EMBEDDINGS_TTL=86400
CACHE_IDENTICAL_PROMPTS=true
REDIS_ENABLED=false
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_URL=redis://localhost:6379

# ----------------------------------------------------------------------------
# MEMORY SYSTEM
# ----------------------------------------------------------------------------
MEMORY_MAX_ENTRIES=10000
MEMORY_MIN_CONFIDENCE=0.5
MEMORY_AUTO_PRUNE=true
MEMORY_SHARD_COUNT=4

# ----------------------------------------------------------------------------
# FALLBACK & RELIABILITY
# ----------------------------------------------------------------------------
AUTO_FALLBACK_ENABLED=true
MAX_RETRIES_BEFORE_FALLBACK=3
FALLBACK_ORDER=groq,cerebras,together,fireworks,openrouter
FALLBACK_TIMEOUT=10
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=60

# ----------------------------------------------------------------------------
# CHAIN & AUTOMATION
# ----------------------------------------------------------------------------
CHAIN_MAX_CYCLES=10
CHAIN_TIMEOUT_SECONDS=300
CHAIN_AUTO_SUMMARIZE=true
CHAIN_DEFAULT_AGGRESSIVE=false

# ----------------------------------------------------------------------------
# WEB CRAWLER
# ----------------------------------------------------------------------------
CRAWLER_ENABLED=true
CRAWLER_MAX_PAGES_PER_JOB=100
CRAWLER_FLUSH_INTERVAL=60
CRAWLER_RETENTION_DAYS=7
CRAWLER_MAX_MEMORY_BYTES=536870912
AUTO_CRAWLER_ENABLED=false
AUTO_CRAWLER_WORKERS=2
USER_CRAWLER_WORKERS=4
USER_CRAWLER_MAX_CONCURRENT=3

# ----------------------------------------------------------------------------
# CLI AGENTS
# ----------------------------------------------------------------------------
CLAUDE_AGENT_ID=claude-mcp
CODEX_AGENT_ID=codex-mcp
GEMINI_AGENT_ID=gemini-mcp

# ----------------------------------------------------------------------------
# SECURITY POLICIES
# ----------------------------------------------------------------------------
SECURITY_MAX_PROMPT_LENGTH=100000
SECURITY_MAX_RESPONSE_LENGTH=100000
SECURITY_SANITIZE_OUTPUTS=true
SECURITY_BLOCK_CODE_EXECUTION=false

# ----------------------------------------------------------------------------
# DOCKER SERVICES (set to true to enable)
# ----------------------------------------------------------------------------
ENABLE_DOCKER_SERVICES=true
ENABLE_WORDPRESS=true
ENABLE_MAILSERVER=false
ENABLE_FLARUM=false
ENABLE_SEARXNG=true
ENABLE_REPO=true

# ----------------------------------------------------------------------------
# WORDPRESS (if enabled)
# ----------------------------------------------------------------------------
WORDPRESS_URL=https://your-domain.com
WORDPRESS_USER=admin
WORDPRESS_PASSWORD=change-this-password
WORDPRESS_DB_HOST=wp-db
WORDPRESS_DB_NAME=wordpress
WORDPRESS_DB_USER=wordpress
WORDPRESS_DB_PASSWORD=change-this-db-password
MYSQL_ROOT_PASSWORD=change-this-root-password
# ... (additional WP settings in separate docker/.env)

# ----------------------------------------------------------------------------
# SEARXNG (if enabled)
# ----------------------------------------------------------------------------
SEARXNG_BASE_URL=https://search.your-domain.com
SEARXNG_INSTANCE_NAME=AILinux Search
SEARXNG_SECRET_KEY=generate-random-secret
SEARXNG_PORT=8888
# ... (additional SearXNG settings)

# ----------------------------------------------------------------------------
# MAIL SERVER (if enabled)
# ----------------------------------------------------------------------------
MAIL_HOSTNAME=mail.your-domain.com
MAIL_DOMAIN=your-domain.com
MAILSERVER_POSTMASTER=postmaster@your-domain.com
# ... (additional mail settings)

# ----------------------------------------------------------------------------
# REPOSITORY (if enabled)
# ----------------------------------------------------------------------------
REPO_URL=https://repo.your-domain.com
REPO_SERVER_NAME=repo.your-domain.com
REPO_HTTP_PORT=8080
REPO_HTTPS_PORT=8443
# ... (additional repo settings)

# ============================================================================
# END OF CONFIGURATION
# ============================================================================
