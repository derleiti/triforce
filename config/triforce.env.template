# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# TRIFORCE GLOBAL .ENV - TEMPLATE v4.2.0
# Generiert: 2025-12-10
# Alle Docker Services nutzen diese Datei: docker compose --env-file ../../.env
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 🔧 CORE SETTINGS
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
INSTALL_DIR=${HOME}/triforce
DATA_DIR=${INSTALL_DIR}/data
TZ=Europe/Berlin

# Feature Toggles
ENABLE_DOCKER_SERVICES=true
ENABLE_WORDPRESS=true
ENABLE_SEARXNG=true
ENABLE_MAILSERVER=true
ENABLE_REPO=true
ENABLE_FLARUM=true

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 🌐 DOMAIN SETTINGS (ANPASSEN!)
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
DOMAIN=example.com
MAIL_DOMAIN=${DOMAIN}
SSL_DOMAIN=${DOMAIN}
WORDPRESS_URL=https://${DOMAIN}
FLARUM_URL=https://forum.${DOMAIN}
REPO_URL=https://repo.${DOMAIN}
SEARXNG_BASE_URL=http://localhost:8089/

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 🐳 WORDPRESS STACK
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Images
WP_APACHE_IMAGE=httpd:2.4-alpine
WP_FPM_IMAGE=wordpress:6.8.1-php8.3-fpm-alpine
WP_DB_IMAGE=mariadb:11
WP_REDIS_IMAGE=redis:alpine
WP_CLI_IMAGE=wordpress:cli
WP_CRON_IMAGE=wordpress:cli
WP_BACKUP_IMAGE=mariadb:11

# Container Names
WP_APACHE_CONTAINER_NAME=wordpress_apache
WP_FPM_CONTAINER_NAME=wordpress_fpm
WP_DB_CONTAINER_NAME=wordpress_db
WP_REDIS_CONTAINER_NAME=wordpress_redis
WP_CLI_CONTAINER_NAME=wordpress_wpcli
WP_CRON_CONTAINER_NAME=wordpress_cron
WP_BACKUP_CONTAINER_NAME=wordpress_backup

# Ports
WP_HTTP_PORT=80
WP_HTTPS_PORT=443

# Paths
WP_HTML_PATH=./html
WP_LETSENCRYPT_PATH=/etc/letsencrypt
WP_APACHE_CONF_PATH=./apache/httpd.conf
WP_APACHE_EXTRA_PATH=./apache/extra
WP_APACHE_SNIPPETS_PATH=./apache/snippets
WP_APACHE_VHOSTS_PATH=./apache/vhosts
WP_PHP_CUSTOM_INI=./php/custom.ini
WP_PHP_WWW_CONF=./php/www.conf
WP_BACKUP_PATH=./backups
WP_BACKUP_SCRIPT=./backups/run-backup.sh
WP_BACKUP_SCRIPT_PATH=./backups/run-backup.sh
WP_CRON_SCRIPT=./cron-runner.sh

# Database (SECRETS - werden bei Installation generiert)
WORDPRESS_DB_HOST=wordpress_db
WORDPRESS_DB_NAME=wordpress
WORDPRESS_DB_USER=wordpress
WORDPRESS_DB_PASSWORD=__GENERATE_SECRET_32__
MYSQL_ROOT_PASSWORD=__GENERATE_SECRET_32__

# Redis
WP_REDIS_HOST=wordpress_redis
WP_REDIS_PORT=6379
WP_REDIS_PASSWORD=
REDIS_ENABLED=true
REDIS_HOST=wordpress_redis
REDIS_PORT=6379

# Network
WP_NETWORK=wordpress-network
WP_NETWORK_DRIVER=bridge
WP_RESTART_POLICY=unless-stopped

# Healthcheck
WP_APACHE_HEALTHCHECK_INTERVAL=30s
WP_APACHE_HEALTHCHECK_TIMEOUT=10s
WP_APACHE_HEALTHCHECK_RETRIES=3
WP_FPM_HEALTHCHECK_INTERVAL=30s
WP_FPM_HEALTHCHECK_TIMEOUT=10s
WP_FPM_HEALTHCHECK_RETRIES=3
WP_FPM_HEALTHCHECK_START=15s
WP_DB_HEALTHCHECK_INTERVAL=30s
WP_DB_HEALTHCHECK_TIMEOUT=10s
WP_DB_HEALTHCHECK_RETRIES=3
WP_DB_HEALTHCHECK_START=30s
WP_REDIS_HEALTHCHECK_INTERVAL=30s
WP_REDIS_HEALTHCHECK_TIMEOUT=5s
WP_REDIS_HEALTHCHECK_RETRIES=3

# Backup
WP_BACKUP_RETENTION=30

# WP-CLI
WP_CLI_USER=82:82

# Cron
WP_CRON_INTERVAL=300

# Volume
WP_DB_DATA_VOLUME=wp_db_data


# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 💬 FLARUM FORUM
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Images
FLARUM_IMAGE=mondedie/flarum:latest
FLARUM_DB_IMAGE=mariadb:11
FLARUM_BACKUP_IMAGE=mariadb:11

# Container Names
FLARUM_CONTAINER_NAME=flarum
FLARUM_DB_CONTAINER_NAME=flarum_db
FLARUM_BACKUP_CONTAINER_NAME=flarum_backup

# Ports
FLARUM_PORT=9080

# URLs
FLARUM_TITLE=Community Forum

# Database (SECRETS - werden bei Installation generiert)
FLARUM_DB_HOST=flarum_db
FLARUM_DB_PORT=3306
FLARUM_DB_NAME=flarum
FLARUM_DB_USER=flarum
FLARUM_DB_PASSWORD=__GENERATE_SECRET_32__
FLARUM_DB_ROOT_PASSWORD=__GENERATE_SECRET_32__
FLARUM_DB_PREFIX=flarum_
FLARUM_DB_TIMEOUT=60

# Admin (SECRETS - werden bei Installation generiert)
FLARUM_ADMIN_USER=admin
FLARUM_ADMIN_PASSWORD=__GENERATE_SECRET_16__
FLARUM_ADMIN_EMAIL=admin@${DOMAIN}

# Performance
FLARUM_UPLOAD_MAX_SIZE=50M
FLARUM_PHP_MEMORY_LIMIT=256M
FLARUM_OPCACHE_MEMORY=128
FLARUM_LOG_STDOUT=true
FLARUM_DEBUG=false

# Paths
FLARUM_ASSETS_PATH=./flarum/assets
FLARUM_EXTENSIONS_PATH=./flarum/extensions
FLARUM_STORAGE_PATH=./flarum/storage
FLARUM_DB_DATA_PATH=flarum_db_data
FLARUM_BACKUP_PATH=./backups

# Network
FLARUM_NETWORK=flarum-network
FLARUM_NETWORK_DRIVER=bridge
FLARUM_RESTART_POLICY=unless-stopped

# Healthcheck
FLARUM_HEALTHCHECK_INTERVAL=30s
FLARUM_HEALTHCHECK_TIMEOUT=10s
FLARUM_HEALTHCHECK_RETRIES=3
FLARUM_HEALTHCHECK_START=60s
FLARUM_DB_HEALTHCHECK_INTERVAL=30s
FLARUM_DB_HEALTHCHECK_TIMEOUT=10s
FLARUM_DB_HEALTHCHECK_RETRIES=3
FLARUM_DB_HEALTHCHECK_START=30s

# Backup
FLARUM_BACKUP_RETENTION=30

# Volume
FLARUM_DB_VOLUME_NAME=flarum_db_data

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 🔍 SEARXNG
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Image
SEARXNG_IMAGE=searxng/searxng:latest

# Container
SEARXNG_CONTAINER_NAME=triforce-searxng

# Ports
SEARXNG_PORT=8888

# Secret (wird bei Installation generiert)
SEARXNG_SECRET_KEY=__GENERATE_SECRET_32__

# Paths
SEARXNG_SETTINGS_PATH=./settings.yml

# Instance Settings
SEARXNG_INSTANCE_NAME=TriForce Search
SEARXNG_DEFAULT_LANG=de-DE
SEARXNG_SAFE_SEARCH=0
SEARXNG_AUTOCOMPLETE=duckduckgo
SEARXNG_AUTOCOMPLETE_MIN=4
SEARXNG_DEBUG=false
SEARXNG_ENABLE_METRICS=true

# URLs (für settings.yml)
SEARXNG_PRIVACY_URL=https://${DOMAIN}/privacy
SEARXNG_DONATION_URL=https://${DOMAIN}/donate
SEARXNG_CONTACT_URL=https://${DOMAIN}/contact

# Performance
SEARXNG_WORKERS=4
SEARXNG_THREADS=4

# Network
SEARXNG_NETWORK=searxng-network
SEARXNG_NETWORK_DRIVER=bridge
SEARXNG_RESTART_POLICY=unless-stopped

# Healthcheck
SEARXNG_HEALTHCHECK_INTERVAL=30s
SEARXNG_HEALTHCHECK_TIMEOUT=10s
SEARXNG_HEALTHCHECK_RETRIES=3

# Volume
SEARXNG_DATA_VOLUME=searxng-data


# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 📧 MAILSERVER
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Image
MAILSERVER_IMAGE=ghcr.io/docker-mailserver/docker-mailserver:latest

# Container
MAILSERVER_CONTAINER_NAME=mailserver
MAIL_HOSTNAME=mail

# Ports
MAIL_SMTP_PORT=25
MAIL_SUBMISSION_PORT=587
MAIL_SMTPS_PORT=465
MAIL_IMAP_PORT=143
MAIL_IMAPS_PORT=993

# Paths
MAILSERVER_MAIL_PATH=./data/mail
MAILSERVER_STATE_PATH=./data/state
MAILSERVER_LOGS_PATH=./data/logs
MAILSERVER_CONFIG_PATH=./config
MAILSERVER_LETSENCRYPT_PATH=/etc/letsencrypt

# Features
MAILSERVER_ENABLE_CLAMAV=0
MAILSERVER_ENABLE_SPAMASSASSIN=0
MAILSERVER_ENABLE_FAIL2BAN=0
MAILSERVER_ENABLE_SMTPS=1
MAILSERVER_ENABLE_POSTGREY=0
MAILSERVER_ENABLE_AMAVIS=0
MAILSERVER_SSL_TYPE=letsencrypt
MAILSERVER_PERMIT_DOCKER=network
MAILSERVER_ONE_DIR=1
MAILSERVER_POSTMASTER=admin
MAILSERVER_SPOOF_PROTECTION=1

# Network
MAILSERVER_NETWORK=mail-network
MAILSERVER_NETWORK_DRIVER=bridge
MAILSERVER_RESTART_POLICY=unless-stopped
MAILSERVER_STOP_GRACE=1m

# Healthcheck
MAILSERVER_HEALTHCHECK_INTERVAL=60s
MAILSERVER_HEALTHCHECK_TIMEOUT=3s
MAILSERVER_HEALTHCHECK_RETRIES=3

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 📦 APT REPOSITORY
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Images
REPO_IMAGE=nginx:alpine
REPO_MIRROR_IMAGE=ailinux-apt-mirror

# Container Names
REPO_CONTAINER_NAME=ailinux-repository
REPO_MIRROR_CONTAINER_NAME=apt-mirror

# Ports
REPO_HTTP_PORT=8081
REPO_HTTPS_PORT=8443

# Server
REPO_SERVER_NAME=repo.${DOMAIN}

# Paths
REPO_DATA_PATH=./data
REPO_NGINX_CONF=./nginx.conf
REPO_SSL_PATH=./ssl
REPO_MIRROR_DATA_PATH=./data
REPO_MIRROR_LIST=./mirror.list

# Features
REPO_AUTOINDEX=on
REPO_AUTOINDEX_EXACT_SIZE=off
REPO_AUTOINDEX_LOCALTIME=on

# SSL
REPO_SSL_CERT=/etc/nginx/ssl/cert.pem
REPO_SSL_KEY=/etc/nginx/ssl/key.pem
REPO_SSL_PROTOCOLS=TLSv1.2 TLSv1.3
REPO_SSL_CIPHERS=ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256
REPO_SSL_PREFER_SERVER_CIPHERS=on

# Network
REPO_NETWORK=repo-network
REPO_NETWORK_DRIVER=bridge
REPO_RESTART_POLICY=unless-stopped

# Healthcheck
REPO_HEALTHCHECK_INTERVAL=30s
REPO_HEALTHCHECK_TIMEOUT=10s
REPO_HEALTHCHECK_RETRIES=3

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 🔑 API KEYS (User muss eintragen)
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
GEMINI_API_KEY=
ANTHROPIC_API_KEY=
OPENAI_API_KEY=
MISTRAL_API_KEY=
GROQ_API_KEY=
CEREBRAS_API_KEY=
TOGETHER_API_KEY=
COHERE_API_KEY=
HUGGINGFACE_API_KEY=
OPENROUTER_API_KEY=
FIREWORKS_API_KEY=
JINA_API_KEY=
CLOUDFLARE_API_TOKEN=
GITHUB_TOKEN=
GITHUB_USERNAME=
GITHUB_REPO=

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 🤖 AI/LLM DEFAULTS
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Ollama (lokal)
OLLAMA_HOST=http://localhost:11434
OLLAMA_BASE=http://localhost:11434
OLLAMA_DEFAULT_MODEL=qwen2.5:14b
OLLAMA_TIMEOUT_MS=120000
OLLAMA_BEARER_TOKEN=
OLLAMA_BEARER_AUTH_ENABLED=false

# Groq
GROQ_BASE_URL=https://api.groq.com/openai/v1
GROQ_DEFAULT_MODEL=llama-3.3-70b-versatile
GROQ_TIMEOUT_MS=30000

# Cerebras
CEREBRAS_BASE_URL=https://api.cerebras.ai/v1
CEREBRAS_DEFAULT_MODEL=llama3.1-70b
CEREBRAS_TIMEOUT_MS=30000

# Together
TOGETHER_BASE_URL=https://api.together.xyz/v1
TOGETHER_DEFAULT_MODEL=meta-llama/Llama-3.3-70B-Instruct-Turbo
TOGETHER_TIMEOUT_MS=120000

# Anthropic
ANTHROPIC_TIMEOUT_MS=120000
ANTHROPIC_MAX_TOKENS=8192

# Default Models
DEFAULT_CHAT_MODEL=gemini/gemini-2.0-flash
DEFAULT_CODE_MODEL=anthropic/claude-sonnet-4
DEFAULT_EMBEDDING_MODEL=ollama/nomic-embed-text
DEFAULT_VISION_MODEL=gemini/gemini-2.0-flash
DEFAULT_SUMMARY_MODEL=ollama/qwen3:14b
DEFAULT_TEMPERATURE_OLLAMA=0.7
DEFAULT_TEMPERATURE_GEMINI=0.8

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 🔧 MCP / TRIFORCE BACKEND
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
MCP_API_KEY=__GENERATE_SECRET_32__
MCP_CONFIG_DIR=${HOME}/.config/triforce
TRIFORCE_AUTH_DIR=${INSTALL_DIR}/auth

# CLI Agents
CLAUDE_AGENT_ID=claude-mcp
GEMINI_AGENT_ID=gemini-lead
CODEX_AGENT_ID=codex-mcp

# Backup
BACKUP_DIR=${DATA_DIR}/backups
BACKUP_RETENTION_DAYS=30

