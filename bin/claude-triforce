#!/bin/bash
# claude-triforce - TriForce Wrapper fÃ¼r Claude CLI
set -e

CLAUDE_BIN=""
for path in /usr/local/bin/claude ~/.claude/local/claude $(which claude 2>/dev/null); do
    [[ -x "$path" ]] && CLAUDE_BIN="$path" && break
done

[[ -z "$CLAUDE_BIN" ]] && echo "ERROR: claude nicht gefunden." >&2 && exit 1

WORK_DIR="${TRIFORCE_WORKDIR:-/home/zombie/ailinux-ai-server-backend}"
cd "$WORK_DIR"

case "${1:-}" in
    ""|"-h"|"--help") exec "$CLAUDE_BIN" "$@" ;;
    "-p"|"--project") shift; exec "$CLAUDE_BIN" -p "$@" ;;
    *) exec "$CLAUDE_BIN" --output-format text "$@" ;;
esac
