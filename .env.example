# ============================================================================
# AILinux AI Server Backend - Environment Configuration
# ============================================================================
# Version: 2.0.0 - Updated 2025-12-05
# All settings have sensible defaults in app/config.py
# Copy this file to .env and fill in your values
#
# SECURITY: Never commit .env files with real credentials to git!
# ============================================================================

# ============================================================================
# CORE SETTINGS
# ============================================================================
REQUEST_TIMEOUT=30
OLLAMA_TIMEOUT_MS=120000
MAX_CONCURRENT_REQUESTS=8
REQUEST_QUEUE_TIMEOUT=15
LOG_LEVEL=INFO

# ============================================================================
# CORS - Leave empty if nginx/reverse proxy handles CORS
# ============================================================================
CORS_ALLOWED_ORIGINS=

# ============================================================================
# REDIS (required for rate limiting and caching)
# ============================================================================
REDIS_URL=redis://localhost:6379/0

# ============================================================================
# OLLAMA BACKEND (local or cloud)
# ============================================================================
OLLAMA_BASE=http://localhost:11434
OLLAMA_BEARER_TOKEN=your_ollama_bearer_token_here
OLLAMA_BEARER_AUTH_ENABLED=true

# ============================================================================
# GEMINI (Google AI)
# ============================================================================
GEMINI_API_KEY=your_gemini_api_key_here
# GEMINI_PROJECT_ID=your_project_id

# ============================================================================
# ANTHROPIC CLAUDE
# ============================================================================
ANTHROPIC_API_KEY=sk-ant-your_anthropic_key_here
ANTHROPIC_TIMEOUT_MS=120000
ANTHROPIC_MAX_TOKENS=8192

# ============================================================================
# MISTRAL / MIXTRAL
# ============================================================================
MIXTRAL_API_KEY=your_mistral_api_key_here
# AILINUX_MIXTRAL_ORG_ID=your_organization_id

# ============================================================================
# HUGGING FACE
# ============================================================================
HUGGINGFACE_API_KEY=hf_your_huggingface_key_here
HUGGINGFACE_INFERENCE_URL=https://router.huggingface.co/hf-inference
HUGGINGFACE_TIMEOUT=120

# ============================================================================
# GPT-OSS (OpenAI-compatible)
# ============================================================================
# GPT_OSS_API_KEY=your_gpt_oss_api_key_here
# GPT_OSS_BASE_URL=https://api.example.com/v1
OPENAI_API_KEY=sk-proj-your_openai_api_key_here

# ============================================================================
# GROQ (Fastest Inference - 300+ tokens/sec)
# Free: 14,400 requests/day, ~250K tokens/day
# https://console.groq.com/keys
# ============================================================================
GROQ_API_KEY=gsk_your_groq_api_key_here
GROQ_BASE_URL=https://api.groq.com/openai/v1
GROQ_DEFAULT_MODEL=llama-3.3-70b-versatile
GROQ_TIMEOUT_MS=30000

# ============================================================================
# CEREBRAS (1M tokens/day FREE - 20x faster than GPU)
# Free: 1,000,000 tokens/day
# https://cloud.cerebras.ai/
# ============================================================================
CEREBRAS_API_KEY=csk-your_cerebras_api_key_here
CEREBRAS_BASE_URL=https://api.cerebras.ai/v1
CEREBRAS_DEFAULT_MODEL=llama3.1-70b
CEREBRAS_TIMEOUT_MS=30000

# ============================================================================
# COHERE (Best RAG & Embeddings)
# Free: 1,000 requests/day, 3M tokens/month
# https://dashboard.cohere.com/api-keys
# ============================================================================
COHERE_API_KEY=your_cohere_api_key_here
COHERE_DEFAULT_MODEL=command-r-plus
COHERE_EMBED_MODEL=embed-multilingual-v3.0
COHERE_TIMEOUT_MS=60000

# ============================================================================
# OPENROUTER (300+ models, one API key)
# Free: $5 credits + many free models
# https://openrouter.ai/keys
# ============================================================================
OPENROUTER_API_KEY=sk-or-v1-your_openrouter_key_here
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
OPENROUTER_DEFAULT_MODEL=meta-llama/llama-3.3-70b-instruct:free
OPENROUTER_TIMEOUT_MS=120000

# ============================================================================
# TOGETHER AI ($25 free credits)
# Free: $25 credits, 3 months unlimited FLUX.1
# https://api.together.xyz/settings/api-keys
# ============================================================================
TOGETHER_API_KEY=your_together_api_key_here
TOGETHER_BASE_URL=https://api.together.xyz/v1
TOGETHER_DEFAULT_MODEL=meta-llama/Llama-3.3-70B-Instruct-Turbo
TOGETHER_TIMEOUT_MS=120000

# ============================================================================
# FIREWORKS AI ($1 free credits)
# https://fireworks.ai/api-keys
# ============================================================================
FIREWORKS_API_KEY=your_fireworks_api_key_here
FIREWORKS_BASE_URL=https://api.fireworks.ai/inference/v1
FIREWORKS_DEFAULT_MODEL=accounts/fireworks/models/llama-v3p3-70b-instruct
FIREWORKS_TIMEOUT_MS=60000

# ============================================================================
# CLOUDFLARE WORKERS AI (10,000 neurons/day free)
# https://dash.cloudflare.com/
# ============================================================================
CLOUDFLARE_ACCOUNT_ID=your_cloudflare_account_id_here
CLOUDFLARE_API_TOKEN=your_cloudflare_api_token_here
CLOUDFLARE_DEFAULT_MODEL=@cf/meta/llama-3.3-70b-instruct-fp8-fast

# ============================================================================
# JINA AI (Free Embeddings)
# Trial key available without registration
# https://jina.ai/embeddings/
# ============================================================================
JINA_API_KEY=your_jina_api_key_here
JINA_EMBED_MODEL=jina-embeddings-v3

# ============================================================================
# CRAWLER SETTINGS
# ============================================================================
CRAWLER_ENABLED=true
CRAWLER_MAX_MEMORY_BYTES=268435456
CRAWLER_FLUSH_INTERVAL=3600
CRAWLER_RETENTION_DAYS=30
CRAWLER_MAX_PAGES_PER_JOB=150
# CRAWLER_SUMMARY_MODEL=ollama/qwen3:14b
# CRAWLER_OLLAMA_MODEL=ollama/qwen3:14b

# User Crawler (fast, for prompts)
USER_CRAWLER_WORKERS=3
USER_CRAWLER_MAX_CONCURRENT=5

# Auto Crawler (background)
AUTO_CRAWLER_WORKERS=15
AUTO_CRAWLER_ENABLED=true

# ============================================================================
# STABLE DIFFUSION / COMFYUI (Image Generation)
# ============================================================================
STABLE_DIFFUSION_URL=http://localhost:7860
STABLE_DIFFUSION_BACKEND=comfyui
STABLE_DIFFUSION_USERNAME=your_username_here
STABLE_DIFFUSION_PASSWORD=your_password_here
# STABLE_DIFFUSION_API_KEY=
STABLE_DIFFUSION_DEFAULT_MODELS=sd_xl_base_1.0.safetensors
STABLE_DIFFUSION_POLL_INTERVAL=1.0
STABLE_DIFFUSION_MAX_WAIT=120.0

# ComfyUI (alternative backend)
# COMFYUI_URL=http://localhost:8188

# ============================================================================
# WORDPRESS INTEGRATION
# ============================================================================
WORDPRESS_URL=https://your-domain.com
WORDPRESS_USER=your_wp_user_here
WORDPRESS_PASSWORD=your_wp_password_here
# WORDPRESS_CATEGORY_ID=1

# ============================================================================
# TRISTAR GUI AUTHENTICATION
# Change these credentials for production!
# ============================================================================
TRISTAR_GUI_USER=admin
TRISTAR_GUI_PASSWORD=change_me_in_production

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_TOKENS_PER_MINUTE=100000
RATE_LIMIT_PER_USER=true
RATE_LIMIT_PER_IP=true

# ============================================================================
# FALLBACK / RESILIENCE
# ============================================================================
# Provider priority order for automatic failover
# groq/cerebras are fastest, gemini is most reliable
FALLBACK_ORDER=gemini,groq,cerebras,ollama,mistral,cohere,openrouter,anthropic,together,fireworks,huggingface
AUTO_FALLBACK_ENABLED=true
MAX_RETRIES_BEFORE_FALLBACK=2
FALLBACK_TIMEOUT=30.0

# Circuit Breaker
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=60

# ============================================================================
# CACHING
# ============================================================================
CACHE_ENABLED=true
CACHE_BACKEND=redis
CACHE_TTL_SECONDS=3600
CACHE_MAX_ENTRIES=1000
CACHE_IDENTICAL_PROMPTS=true
CACHE_EMBEDDINGS=true
CACHE_EMBEDDINGS_TTL=86400

# ============================================================================
# CHAIN / ORCHESTRATION
# ============================================================================
CHAIN_MAX_CYCLES=20
CHAIN_DEFAULT_AGGRESSIVE=false
CHAIN_TIMEOUT_SECONDS=300
CHAIN_AUTO_SUMMARIZE=true

# ============================================================================
# MEMORY (TriStar)
# ============================================================================
MEMORY_MAX_ENTRIES=10000
MEMORY_MIN_CONFIDENCE=0.3
MEMORY_AUTO_PRUNE=true
MEMORY_SHARD_COUNT=12

# ============================================================================
# LOGGING
# ============================================================================
LOG_LEVEL=INFO
LOG_RETENTION_DAYS=7
LOG_MAX_ENTRIES=50000
LOG_INCLUDE_PROMPTS=false
LOG_INCLUDE_RESPONSES=false

# ============================================================================
# SECURITY
# ============================================================================
SECURITY_MAX_PROMPT_LENGTH=100000
SECURITY_MAX_RESPONSE_LENGTH=200000
SECURITY_BLOCK_CODE_EXECUTION=false
SECURITY_SANITIZE_OUTPUTS=true

# ============================================================================
# DEFAULT MODELS
# ============================================================================
DEFAULT_CHAT_MODEL=gemini/gemini-2.0-flash
DEFAULT_CODE_MODEL=anthropic/claude-sonnet-4
DEFAULT_EMBEDDING_MODEL=ollama/nomic-embed-text
DEFAULT_VISION_MODEL=gemini/gemini-2.0-flash
DEFAULT_SUMMARY_MODEL=ollama/qwen3:14b

# ============================================================================
# DEFAULT TEMPERATURES BY PROVIDER
# ============================================================================
DEFAULT_TEMPERATURE_OLLAMA=0.7
DEFAULT_TEMPERATURE_GEMINI=0.8
DEFAULT_TEMPERATURE_MISTRAL=0.7
DEFAULT_TEMPERATURE_ANTHROPIC=0.7
DEFAULT_TEMPERATURE_HUGGINGFACE=0.7
DEFAULT_TEMPERATURE_GROQ=0.7
DEFAULT_TEMPERATURE_CEREBRAS=0.7
DEFAULT_TEMPERATURE_COHERE=0.7
DEFAULT_TEMPERATURE_OPENROUTER=0.7
DEFAULT_TEMPERATURE_TOGETHER=0.7
DEFAULT_TEMPERATURE_FIREWORKS=0.7
DEFAULT_TEMPERATURE_CLOUDFLARE=0.6

# ============================================================================
# GUI SETTINGS
# ============================================================================
GUI_THEME=dark
GUI_AUTO_REFRESH_SECONDS=5
GUI_SHOW_DEBUG=false
GUI_LANGUAGE=de

# ============================================================================
# TRISTAR BASE PATH (RAM-Mode)
# ============================================================================
# TRISTAR_BASE=/var/tristar

# ============================================================================
# GITHUB (for automated deployments and updates)
# ============================================================================
GITHUB_TOKEN=github_pat_your_token_here
GITHUB_USERNAME=your_github_username
GITHUB_REPO=your_repo_name
